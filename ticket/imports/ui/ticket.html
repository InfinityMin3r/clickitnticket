<!-- This template is reponsible for displaying an individual tickets information -->

<template name="ticket">
<br>
<div class="container ticket-list">
  <label class="h1"><span class="ticketnum"><p id="targetTicket">{{number}}</p></span><span class="tbtn"><em>toggle</em></span></label>
 <ul>
	  	<p><strong>Issue Type: </strong>{{issuetype}}</p>
	  	<p><strong>Priority: </strong>{{priority}}</p>
	  	<p><strong>Summary: </strong>{{summary}}</p>
	  	<p><strong>Status: </strong>
		{{#if status}}
		 	New Ticket
		{{else}}
		  	Resolved
		{{/if}}
	  </p>
	  <p><strong>Closed: </strong>
		{{#if close}}
		  	Yes
		{{else}}
		  	Not
		{{/if}}
	  </p>


	  	{{#if currentUser}}
			<button class="btn btn-primary btn-block btn-open" id="viewbtn">View Ticket</button>
            <div class="btn-group" role="group" aria-label="..." id="ticketact">
			{{#if close}}
				{{#if isInRole "Admin"}}
					<p><button class="btn btn-success btn-notcloseinview">Open</button></p>
				{{/if}}
		  	{{else}}
		 		{{#if isInRole "Help Desk"}}
					{{#if creator}}

			  			{{#if status}}
							<button class="btn btn-success btn-resolve">Resolve</button>
			  			{{else}}
							<button class="btn btn-success btn-reopen">Reopen</button>
			  			{{/if}}
					{{/if}}
		  		{{else}}
			  		{{#if status}}
						<button class="btn btn-success btn-resolve">Resolve</button>
			  		{{else}}
						<button class="btn btn-success btn-reopen">Reopen</button>
			  		{{/if}}
			  		{{#if isInRole "Admin"}}
						<button class="btn btn-danger btn-close">Close</button>
			  		{{/if}}
		  		{{/if}}
			{{/if}}
            </div>
	  	{{/if}}
    </ul>
  </div>
  <br>
</template>
